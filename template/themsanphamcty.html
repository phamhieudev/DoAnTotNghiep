<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Original URL: http://www.urbanui.com/serein/template/demo/vertical-default-light/pages/maps/vector-map.html
Date Downloaded: 11/30/2018 1:56:42 PM !-->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Quản Trị NhaDatTDM</title>
  <!-- plugins:css -->
  <!-- bootstrap -->
  <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> -->
  <!--  -->
  <link rel="stylesheet" href="../../../../vendors/iconfonts/mdi/font/css/materialdesignicons.min.css" />
  <link rel="stylesheet" href="../../../../vendors/css/vendor.bundle.base.css" />
  <link rel="stylesheet" href="../../../../vendors/css/vendor.bundle.addons.css" />
  <!-- endinject -->
  <!-- inject:css -->
  <link rel="stylesheet" href="../../../../css/vertical-layout-light/style.css" />
  <!-- endinject -->
  <link rel="shortcut icon" href="../../../../images/favicon.png" />
  <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v6.1.1/build/ol.js"></script>
  <!-- bootstrap  -->
  <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v6.1.1/css/ol.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="/controller/themsanphamctyController.js"></script>



  <style>
    #map {
      height: 400px;
      width: 100%;
    }
  </style>
</head>

<body>
  <div class=" container-scroller" ng-app="themsanphamctyApp" ng-controller="themsanphamctyCtrl">
    <!-- partial:../../partials/_navbar.html -->
    <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
      <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
        <a class="navbar-brand brand-logo" href="../../index.html"><img src="../../../../images/logo.svg"
            alt="logo" /></a>
        <a class="navbar-brand brand-logo-mini" href="../../index.html"><img src="../../../../images/logo-mini.svg"
            alt="logo" /></a>
      </div>
      <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
        <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
          <span class="mdi mdi-menu"></span>
        </button>
        <ul class="navbar-nav navbar-nav-right">


          <li class="nav-item nav-profile dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
              <span style="text-overflow:ellipsis; color: black;">Xin chào: {{nameadmin}}</span>
            </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" ng-click="logout()">
                <i class="mdi mdi-logout text-primary"></i>
                Đăng Xuất
              </a>
            </div>
          </li>

        </ul>
        <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
          data-toggle="offcanvas">
          <span class="mdi mdi-menu"></span>
        </button>
      </div>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:../../partials/_settings-panel.html -->
      <div class="theme-setting-wrapper">
        <div id="settings-trigger"><i class="mdi mdi-settings"></i></div>
        <div id="theme-settings" class="settings-panel">
          <i class="settings-close mdi mdi-close"></i>
          <p class="settings-heading">SIDEBAR SKINS</p>
          <div class="sidebar-bg-options selected" id="sidebar-light-theme">
            <div class="img-ss rounded-circle bg-light border mr-3"></div>Light
          </div>
          <div class="sidebar-bg-options" id="sidebar-dark-theme">
            <div class="img-ss rounded-circle bg-dark border mr-3"></div>Dark
          </div>
          <p class="settings-heading mt-2">HEADER SKINS</p>
          <div class="color-tiles mx-0 px-4">
            <div class="tiles primary"></div>
            <div class="tiles success"></div>
            <div class="tiles warning"></div>
            <div class="tiles danger"></div>
            <div class="tiles light"></div>
            <div class="tiles info"></div>
            <div class="tiles dark"></div>
            <div class="tiles default"></div>
          </div>
        </div>
      </div>

      <!-- partial -->
      <!-- partial:../../partials/_sidebar.html -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
          <li class="nav-item" id="admin">
            <a class="nav-link" href="admin.html">
              <i class="mdi mdi-account menu-icon"></i>
              <span class="menu-title">Danh Sách Admin</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="vungxa.html">
              <i class="mdi mdi-trophy-award menu-icon"></i>
              <span class="menu-title">Danh Sách Phường\Xã</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="duong.html">
              <i class="mdi mdi-call-split menu-icon"></i>
              <span class="menu-title">Danh Sách Đường</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="loaisanpham.html">
              <i class="mdi mdi-table-large menu-icon"></i>
              <span class="menu-title">Quản Lý Loại Sản Phẩm</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="sanphamcty.html">
              <i class="mdi mdi-home menu-icon"></i>
              <span class="menu-title">Quản Lý Sản Phẩm Công Ty</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="customer.html">
              <i class="mdi mdi-account-multiple-outline menu-icon"></i>
              <span class="menu-title">Quản Lý Người Dùng</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="sanphamnguoidung.html">
              <i class="mdi mdi-home-outline menu-icon"></i>
              <span class="menu-title">Quản Lý Sản Phẩm Người Dùng</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="tintuc.html">
              <i class="mdi mdi-newspaper menu-icon"></i>
              <span class="menu-title">Quản Lý Tin Tức</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="map.html">
              <i class="mdi mdi-map-marker-outline menu-icon"></i>
              <span class="menu-title">Bản Đồ</span>
              <!-- <i class="menu-arrow"></i> -->
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="thongke.html">
              <i class="mdi mdi-chart-line menu-icon"></i>
              <span class="menu-title">Thống Kê</span>
              <!-- <i class="menu-arrow"></i> -->
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="sanphamchoduyet.html">
              <i class="mdi mdi-spellcheck menu-icon"></i>
              <span class="menu-title">Bài Đăng Chờ Duyệt</span>
              <!-- <i class="menu-arrow"></i> -->
            </a>
          </li>

        </ul>
      </nav>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
            <div class="col-12">
              <div class="card" style="height: 2100px;">
                <div class="card-body">
                  <div class="row">
                    <div class="col-12">
                      <form name="userForm" ng-submit="submitForm()" novalidate class="css-form">
                        <div class="card-body">
                          <h4 class="card-title">THÊM TIN ĐĂNG BẤT ĐỘNG SẢN CÔNG TY</h4>
                          <form class="forms-sample">
                            <div class="row">
                              <div class="form-group col-12">
                                <label for="tensanpham">Tên Bất Động Sản</label>
                                <input type="text" class="form-control" name="tensanpham" ng-model="tensanpham"
                                  id="tensanpham" ng-minlength="3" ng-required=true />
                                <div ng-show="userForm.tensanpham.$touched">
                                  <span style="color:red;margin-top: 2px;
                                    display: inline-block;" class="pt-2"
                                    ng-show="userForm.tensanpham.$error.required">Vui lòng nhập</span>
                                </div>
                              </div>
                              <div class="form-group col-4">
                                <label for="loaisanpham">Loại Bất Động Sản</label>
                                <select class="form-control" name="idLoaisp" id="idLoaisp" ng-model="idLoaisp"
                                  ng-change="myFunc(idLoaisp)" ng-required=true>
                                  <option ng-repeat="loaisanpham in loaisanphams | orderBy: 'tenLoaisp'"
                                    value="{{loaisanpham.idLoaisp}}">{{loaisanpham.tenLoaisp}}</option>
                                </select>
                                <div ng-show="userForm.idLoaisp.$touched">
                                  <span style="color:red;margin-top: 2px;
                                display: inline-block;" ng-show="userForm.idLoaisp.$error.required">Vui lòng chọn Loại
                                    Sản Phẩm</span>
                                </div>
                              </div>
                              <div class="form-group col-4" id="grPhuong">
                                <label for="phuong">Phường</label>
                                <select class="form-control" name="idVungxa" id="idVungxa" ng-model="idVungxa"
                                  ng-change="FuncVung(idVungxa)" ng-required=true>
                                  <option ng-repeat="vungxa in vungxas | orderBy: 'tenVungxa'"
                                    value="{{vungxa.idVungxa}}">{{vungxa.tenVungxa}}</option>
                                </select>
                                <div ng-show="userForm.idVungxa.$touched">
                                  <span style="color:red;margin-top: 2px;
                                display: inline-block;" ng-show="userForm.idVungxa.$error.required">Vui lòng chọn
                                    Phường</span>
                                </div>
                              </div>
                              <div class="form-group col-4" id="grDuong">
                                <label for="duong">Đường</label>
                                <select class="form-control" name="idDuong" id="idDuong" ng-model="idDuong"
                                  ng-required=true>
                                  <option ng-repeat="duong in duongs | orderBy: 'tenDuong'" value="{{duong.idDuong}}">
                                    {{duong.tenDuong}}</option>
                                </select>
                                <div ng-show="userForm.idDuong.$touched">
                                  <span style="color:red;margin-top: 2px;
                                display: inline-block;" ng-show="userForm.idDuong.$error.required">Vui lòng chọn tên
                                    đường</span>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="form-group col-4">
                                <label for="huong">Hướng</label>
                                <select class="form-control" name="idHuong" id="idHuong" ng-model="idHuong"
                                  ng-required=true>
                                  <option ng-repeat="huong in huongs | orderBy: 'nameHuong'" value="{{huong.idHuong}}">
                                    {{huong.nameHuong}}</option>
                                </select>
                                <div ng-show="userForm.idHuong.$touched">
                                  <span style="color:red;margin-top: 2px;
                                display: inline-block;" ng-show="userForm.idHuong.$error.required">Vui lòng chọn
                                    hướng</span>
                                </div>
                              </div>
                              <div class="form-group col-4">
                                <label>Tổng Giá</label>
                                <input class="form-control" type="number" name="gia" id="gia" ng-model="gia" min="1"
                                  ng-required=true>
                                <span style="color:red;margin-top: 2px;
                                  display: inline-block;"
                                  ng-show="userForm.gia.$touched && userForm.gia.$error.required">Vui lòng nhập
                                  giá</span>
                                <span style="color:red;margin-top: 2px;
                                display: inline-block;" ng-show="userForm.gia.$touched && userForm.gia.$error.min">Giá
                                  không thể nhỏ hơn 1</span>
                              </div>
                              <div class="form-group col-4">
                                <label for="donvigia">Đơn vị Giá</label>
                                <select class="form-control" name="idDonvigia" id="idDonvigia" ng-model="idDonvigia"
                                  ng-change="funcDonvigia(idDonvigia) " ng-required=true>
                                  <option ng-repeat="donvigia in donvigias | orderBy: 'tenDonvigia'"
                                    value="{{donvigia.idDonvigia}}">{{donvigia.tenDonvigia}}</option>
                                </select>
                                <div ng-show="userForm.idDonvigia.$touched">
                                  <span style="color:red;margin-top: 2px;
                                display: inline-block;" ng-show="userForm.idDonvigia.$error.required">Vui lòng chọn đơn
                                    vị giá</span>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="form-group col-4 ">
                                <label>Chiều Rộng</label>
                                <input class="form-control" type="number" name="chieurong" ng-model="chieurong" min="1"
                                  ng-required=true ng-change="changechieurong(chieurong)">
                                <span style="color:red;margin-top: 2px;
                                  display: inline-block;"
                                  ng-show="userForm.chieurong.$touched && userForm.chieurong.$error.required">Vui lòng
                                  nhập chiều rộng</span>
                                <span style="color:red;margin-top: 2px;
                                  display: inline-block;"
                                  ng-show="userForm.chieurong.$touched && userForm.chieurong.$error.min">Chiều rộng
                                  không
                                  thể nhỏ hơn 1</span>
                              </div>
                              <div class="form-group col-4">
                                <label>Chiều Dài</label>
                                <input class="form-control" type="number" name="chieudai" ng-model="chieudai" min="1"
                                  ng-minlength="1" ng-required=true ng-change="changechieudai(chieudai)">
                                <span style="color:red;margin-top: 2px;
                                display: inline-block;"
                                  ng-show="userForm.chieudai.$touched && userForm.chieudai.$error.required">Vui lòng
                                  nhập
                                  chiều dài</span>
                                <span style="color:red;margin-top: 2px;
                                display: inline-block;"
                                  ng-show="userForm.chieudai.$touched && userForm.chieudai.$error.min">Chiều dài không
                                  thể
                                  nhỏ hơn 1</span>
                              </div>
                              <div class="form-group col-4">
                                <label>Diện Tích</label>
                                <input class="form-control" type="number" name="dientich" ng-model="dientich" ng-disabled=true>
                              </div>
                            </div>

                            <div class="row">
                              <div class="form-group col-4">
                                <label>Thổ Cư</label>
                                <input class="form-control" type="number" name="thocu" ng-model="thocu"
                                  ng-change="changethocu(thocu)" ng-required=true>
                                <div ng-show="userForm.thocu.$touched">
                                  <span style="color:red;margin-top: 2px;
                                    display: inline-block;" ng-show="userForm.thocu.$error.required">Vui lòng nhập thổ
                                    cư</span>
                                </div>
                              </div>
                              <div class="form-group col-4">
                                <label for="donvigia">Pháp Lý</label>
                                <select class="form-control" id="phaply" name="phaply" ng-model="phaply"
                                  ng-required=true ng-required=true>
                                  <option ng-repeat="phaply in phaplys | orderBy: 'idphaply'"
                                    value="{{phaply.idphaply}}">{{phaply.tenphaply}}</option>
                                </select>
                                <div ng-show="userForm.phaply.$touched">
                                  <span style="color:red;margin-top: 2px;
                                      display: inline-block;" ng-show="userForm.phaply.$error.required">Vui lòng chọn
                                    pháp lý</span>
                                </div>
                              </div>
                              <div class="form-group col-4">
                                <label for="donvigia">Chiều Rộng Hẻm</label>
                                <select class="form-control" id="property-rental-period" name="hem" ng-model="hem"
                                  ng-required=true>
                                  <option ng-repeat="chieuronghem in chieuronghems | orderBy: 'idhem'"
                                    value="{{chieuronghem.idhem}}">{{chieuronghem.tenHem}}</option>
                                </select>
                                <div ng-show="userForm.hem.$touched">
                                  <span style="color:red;margin-top: 2px;
                                      display: inline-block;" ng-show="userForm.hem.$error.required">Vui lòng
                                    chọn</span>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="form-group col-4" id="grTang">
                                <label>Số Tầng</label>
                                <input class="form-control" type="number" name="sotang" id="sotang" ng-model="sotang" onchange="myFuncsotang()">
                                <!-- <span class="error" ng-show="userForm.sotang.$error.required">Vui lòng nhập Số Tầng!</span>
                              <span class="error" ng-show="userForm.sotang.$error.min">Số tầng không nhỏ hơn 2.</span>
                              <span class="error" ng-show="userForm.sotang.$error.max">Số tầng không lớn hơn 10.</span>
                              <span class="valid" ng-show="userForm.sotang.$valid">Hợp Lệ</span> -->
                              </div>
                              <div class="form-group col-4" id="grPhongngu">
                                <label>Số Phòng Ngủ</label>
                                <input class="form-control" type="number" name="phongngu" id="phongngu" ng-model="phongngu"  onchange="myFuncsophongngu()">
                                <!-- <span class="error" ng-show="userForm.phongngu.$error.required">Vui lòng nhập Số Phòng Ngủ!</span>
                              <span class="error" ng-show="userForm.phongngu.$error.maxlength">Số phòng ngủ không lớn hơn 10 ký tự.</span>
                              <span class="valid" ng-show="userForm.phongngu.$valid">Hợp Lệ</span> -->
                              </div>
                              <div class="form-group col-4" id="grToilet">
                                <label>Số Toilet</label>
                                <input class="form-control" type="number" name="sotoilet" id="sotoilet" ng-model="sotoilet" onchange="myFuncsotoilet()" >
                                <!-- <span class="error" ng-show="userForm.sotoilet.$error.required">Vui lòng nhập Số Phòng Toilet!</span>
                              <span class="error" ng-show="userForm.sotoilet.$error.maxlength">Số Phòng không lớn hơn 10 ký tự.</span>
                              <span class="valid" ng-show="userForm.sotoilet.$valid">Hợp Lệ</span> -->
                              </div>
                            </div>
                            <div class="row">
                              <div class="form-group col-12">
                                <label>Mô Tả</label>
                                <textarea class="form-control" id="exampleFormControlTextarea1" rows="10" name="mota"
                                  ng-model="mota" ng-required=true></textarea>
                                <div ng-show="userForm.mota.$touched">
                                  <span style="color:red;margin-top: 2px;
                                  display: inline-block;" ng-show="userForm.mota.$error.required">Vui lòng nhập mô
                                    tả</span>
                                </div>
                              </div>
                            </div>
                            <div class="row" style="margin-bottom: 20px;">
                              <div id="map" class="form-group col-12" style="height: 700px;">
                                <div id="info">&nbsp;</div>
                                <div id="popup" class="ol-popup">
                                  <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                                  <div id="popup-content"></div>
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="form-group col-4">
                                <label>Tọa Độ X</label>
                                <input class="form-control" type="text" name="toadox" ng-model="toadox" id="toadox"
                                  ng-required=true>
                                <div ng-show="userForm.$submitted || userForm.toadox.$touched">
                                  <span style="color:red;margin-top: 2px;
                                display: inline-block;" ng-show="userForm.toadox.$error.required">Vui lòng chọn
                                    điểm</span>
                                </div>
                              </div>
                              <div class="form-group col-4">
                                <label>Tọa Độ Y</label>
                                <input class="form-control" type="text" name="toadoy" ng-model="toadoy" id="toadoy"
                                  ng-required=true>
                                <div ng-show="userForm.$submitted || userForm.toadoy.$touched">
                                  <span style="color:red;margin-top: 2px;
                                  display: inline-block;" ng-show="userForm.toadoy.$error.required">Vui lòng chọn
                                    điểm</span>
                                </div>
                              </div>
                              <div class="form-group col-4">
                                <button class="btn btn-dark" ng-click="kiemtratoado()" style="margin-top: 23px;">Kiểm
                                  Tra Tọa Độ </button>
                              </div>
                            </div>
                            <div class="row">
                            
                              <div class="col-md-12">
                                  <div class="submit-property__group">
                                      <div class="submit-property__upload">
                                        <input id="file-input" type="file" >
                                          <div class="submit-property__upload-inner">
                                              <span class="ion-ios-plus-outline submit-property__icon"></span>
                                              <span class="submit-property__upload-desc" style="color: black;">Tải lên hình ảnh</span>
                                          </div>
                                          <div id="preview"></div>
                                      </div><!-- .submit-proeprty__upload -->
                                  </div><!-- .submit-property__group -->
                              </div><!-- .col -->
                          </div><!-- .row -->
                            <div class="row">
                              <div class="form-group col-12">
                                <button type="submit" class="btn btn-primary" ng-disabled="userForm.$invalid"
                                  data-dismiss="{{save1}}"
                                  ng-click="addsanphamcty(tensanpham,idLoaisp,idVungxa,idDuong,idHuong,gia,idDonvigia,chieurong,chieudai,dientich,thocu,phaply,hem,sotang,phongngu,sotoilet,mota,toadox,toadoy)">Thêm</button>
                              </div>
                            </div>

                        </div>
                    </div>
                  </div>

                  <br>


                  </form>
                </div>
              </div>
              </form>


            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- partial:../../partials/_footer.html -->
  <footer class="footer">
    <div class="d-sm-flex justify-content-center justify-content-sm-between">
      <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright © 2018 <a
          href="../../../../../../index.html" target="_blank">Urbanui</a>. All rights reserved.</span>
      <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i
          class="mdi mdi-heart text-danger"></i></span>
    </div>
  </footer>
  <!-- partial -->
  </div>
  </div>
  </div>

  <!-- plugins:js -->

  <script src="../../../../vendors/js/vendor.bundle.base.js"></script>
  <script src="../../../../vendors/js/vendor.bundle.addons.js"></script>
  <!-- endinject -->
  <!-- inject:js -->
  <script src="../../../../js/off-canvas.js"></script>
  <script src="../../../../js/hoverable-collapse.js"></script>
  <script src="../../../../js/template.js"></script>
  <script src="../../../../js/settings.js"></script>
  <script src="../../../../js/todolist.js"></script>
  <!-- endinject -->
  <!-- Custom js for this page-->

  <script>
    /**
     * Elements that make up the popup.
     */
    var container = document.getElementById('popup');
    var content = document.getElementById('popup-content');
    var closer = document.getElementById('popup-closer');

    /**
     * Create an overlay to anchor the popup to the map.
     */
    var overlay = new ol.Overlay( /** @type {olx.OverlayOptions} */({
      element: container,
      autoPan: true,
      autoPanAnimation: {
        duration: 250
      }
    }));
    /**
     * Add a click handler to hide the popup.
     * @return {boolean} Don't follow the href.
     */
    closer.onclick = function () {
      overlay.setPosition(undefined);
      closer.blur();
      return false;
    };
    var map = new ol.Map({
      view: new ol.View({
        center: [11871819.171012152, 1229646.7537582985],
        zoom: 13
      }),
      layers: [
        new ol.layer.Tile({
          source: new ol.source.OSM()
        })
      ],
      overlays: [overlay],
      target: 'map',
      view: new ol.View({
        center: [11871819.171012152, 1229646.7537582985],
        zoom: 13
      })

    });

    var vung = new ol.layer.Image({
      source: new ol.source.ImageWMS({
        url: 'http://localhost:8080/geoserver/webgis_bds/wms',
        params: {
          'LAYERS': 'webgis:vungtdm'
        },
        serverType: 'geoserver'
      })
    });
    var duong = new ol.layer.Image({
      source: new ol.source.ImageWMS({
        url: 'http://localhost:8080/geoserver/webgis_bds/wms',
        params: {
          'LAYERS': 'webgis:duong'
        },
        serverType: 'geoserver'
      })
    });

 

    vung.setOpacity(0.9);
    map.addLayer(vung);
    map.addLayer(duong);

    map.on('click', function (evt) {
      //document.getElementById("myText").value=(ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326'));

      var lonlat = ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326');
      var lon = lonlat[0];
      var lat = lonlat[1];
      document.getElementById("toadox").value = lon;
      document.getElementById("toadoy").value = lat;

      var iconStyle = new ol.style.Style({
        image: new ol.style.Icon({
            anchor: [30, 37],
            anchorXUnits: 'pixels', //'fraction'
            anchorYUnits: 'pixels',
            opacity: 1.5,
            src: 'https://maps.google.com/mapfiles/ms/micons/red.png'
        })
    });
    var layer = new ol.layer.Vector({
        source: new ol.source.Vector({
            features: [
                new ol.Feature({
                    geometry: new ol.geom.Point(ol.proj.fromLonLat([lon,lat]))
                })
            ]
        })
    });
     layer.setStyle(iconStyle);

    });









    // map.addLayer(tram);


    // ẩn hiện layer 
    function showhideLayervung(vung) {
      if (defaultCheck1.checked) {
        vung.setVisible(false);
      } else {
        vung.setVisible(true);
      }
    }

    function showhideLayerduong(duong) {
      if (defaultCheck2.checked) {
        duong.setVisible(false);
      } else {
        duong.setVisible(true);
      }
    }

    // function showhideLayertram(tram) {
    //   if (defaultCheck3.checked) {
    //     tram.setVisible(false);
    //   } else {
    //     tram.setVisible(true);
    //   }
    // }
  </script>
  <!-- End custom js for this page-->
</body>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js"></script>
<script>
  function myFuncsotang() {
    var x = document.getElementById("sotang").value;
    if(x<0)
    {
        alert("Không thể là số âm");
        document.getElementById("sotang").value="";
    }
  }
  
  function myFuncsophongngu() {
    var x = document.getElementById("phongngu").value;
    if(x<0)
    {
        alert("Không thể là số âm");
        document.getElementById("phongngu").value="";
    }
  }
  
  function myFuncsotoilet() {
    var x = document.getElementById("sotoilet").value;
    if(x<0)
    {
        alert("Không thể là số âm");
        document.getElementById("sotoilet").value="";
    }
  }
  </script>
<script>
  function previewImages() {


    if (this.files.length > 5) {
      alert('Bạn chỉ được thêm tối đa ' + 4 + " hình ảnh ");
      $('#file-input').val("");
    }
    else {
      var $preview = $('#preview').empty();
      if (this.files) $.each(this.files, readAndPreview);

      function readAndPreview(i, file) {

        if (!/\.(jpe?g|png|gif)$/i.test(file.name)) {
          return alert(file.name + " Không Phải là hình ảnh");
        } // else...

        var reader = new FileReader();

        $(reader).on("load", function () {
          $preview.append($("<img/>", { src: this.result, height: 200 }));
        });

        reader.readAsDataURL(file);

      }
    }


  }

  $('#file-input').on("change", previewImages);
</script>

</html>